{"version":"V2.0","versionNumber":"V2.3.5","type":"stickc-plus2","components":[{"name":"screen","type":"screen","layer":0,"screenId":"builtin","screenName":"","id":"__stickc-plus2_screen","createTime":1757789973660,"x":0,"y":0,"width":135,"height":240,"backgroundColor":"#000000","size":0,"isSelected":true},{"name":"title0","type":"title","layer":2,"screenId":"builtin","screenName":"","id":"oYR_=b`FvSo&w=Gk","createTime":1757790027520,"x":0,"y":0,"color":"#ffffff","backgroundColor":"#0000FF","text":"Light Intensity:","textOffset":3,"font":"Widgets.FONTS.DejaVu18","isSelected":false},{"name":"label1","type":"label","layer":3,"screenId":"builtin","screenName":"","id":"u7Sr@XaRW=huzKH*","createTime":1757790025949,"x":31,"y":41,"color":"#ffffff","backgroundColor":"#222222","text":"label0","font":"Widgets.FONTS.DejaVu56","rotation":0,"isSelected":false}],"resources":[{"hardware":["hardware_button","hardware_pin_button","imu","speaker","ir","i2c"]},{"unit":["unit_dlight"]}],"units":[{"type":"unit_dlight","name":"dlight_0","portList":["A","PAHUB","Custom"],"portType":"A","userPort":[22,21],"id":"nuL*sQ4lyYNyHi%R","createTime":1757889186786,"bus":"i2c0","pahubPortList":[0,1,2,3,4,5],"pahubPort":0,"initBlockId":"(UNTV9`[W_z|v7Dk$u/:"}],"hats":[],"bases":[],"i2cs":[{"id":"i2c0","portType":"A","userPort":[22,21],"freq":"100000","blockId":"qc~[7A#5@xCTOPF@vk+i"}],"blockly":"<block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"150\" y=\"-129\"><mutation isBegin=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_begin\" id=\"8~an].QyQt?Lh/wu[?b+\"><next><block type=\"i2c_init\" id=\"qc~[7A#5@xCTOPF@vk+i\"><field name=\"NAME\">0</field><field name=\"FREQ\">100000</field><value name=\"SCL\"><shadow type=\"math_number\" id=\"I}3?vwMH:G7-=!n(:[yg\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">33</field></shadow></value><value name=\"SDA\"><shadow type=\"math_number\" id=\"U=~}GQx$NCGEq;GH3NVQ\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">32</field></shadow></value><next><block type=\"unit_dlight_init\" id=\"(UNTV9`[W_z|v7Dk$u/:\"><field name=\"NAME\">dlight_0</field><next><block type=\"unit_dlight_configure\" id=\"QL[*r1E7qMQ4S+qjdCd)\"><field name=\"NAME\">dlight_0</field><field name=\"MODE\">CONTINUOUSLY</field><field name=\"RESOLUTION\">H_RESOLUTION_MODE</field></block></next></block></next></block></next></block></statement></block><block type=\"basic_on_loop\" id=\"loop_block\" deletable=\"false\" x=\"150\" y=\"90\"><mutation isUpdate=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_update\" id=\"k*E:*qehrJ%jr31@oL3v\"><next><block type=\"label_set_text\" id=\"te}I^sD*m$o-`7hoH-eB\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"UTs/v!:TR(C`?AA]w`@8\"><field name=\"TEXT\">Label</field></shadow><block type=\"unit_dlight_get_lux\" id=\"76)g0~=!mJWd4$d]yyfk\"><field name=\"NAME\">dlight_0</field></block></value></block></next></block></statement></block>","screen":[{"simulationName":"Built-in","type":"builtin","width":135,"height":240,"scale":0.67,"screenName":"","blockId":"","screenColorType":0,"rotation":3,"id":"builtin","createTime":1757789973655}],"logicWhenNum":0,"pythonCode":"import os, sys, io\nimport M5\nfrom M5 import *\nfrom hardware import I2C\nfrom hardware import Pin\nfrom unit import DLightUnit\n\n\n\ntitle0 = None\nlabel1 = None\ni2c0 = None\ndlight_0 = None\n\n\ndef setup():\n  global title0, label1, i2c0, dlight_0\n\n  M5.begin()\n  Widgets.setRotation(3)\n  Widgets.fillScreen(0x000000)\n  title0 = Widgets.Title(\"Light Intensity:\", 3, 0xffffff, 0x0000FF, Widgets.FONTS.DejaVu18)\n  label1 = Widgets.Label(\"label0\", 31, 41, 1.0, 0xffffff, 0x222222, Widgets.FONTS.DejaVu56)\n\n  i2c0 = I2C(0, scl=Pin(33), sda=Pin(32), freq=100000)\n  dlight_0 = DLightUnit(i2c0)\n  dlight_0.configure(dlight_0.CONTINUOUSLY, dlight_0.H_RESOLUTION_MODE)\n\n\ndef loop():\n  global title0, label1, i2c0, dlight_0\n  M5.update()\n  label1.setText(str(round(dlight_0.get_lux(),1)))\n\nif __name__ == '__main__':\n  try:\n    setup()\n    while True:\n      loop()\n  except (Exception, KeyboardInterrupt) as e:\n    try:\n      from utility import print_error_msg\n      print_error_msg(e)\n    except ImportError:\n      print(\"please update to latest firmware\")\n","customList":[]}